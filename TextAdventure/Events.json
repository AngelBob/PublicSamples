[
  {
    "Id": "OnAssayerOutOfOffice",
    "Repeats": 3,
    "Action": {
      "MoveObject": [
        { "bag": "assayoffice" },
        { "assayer": "jailcell2" }
      ]
    },
    "Text": "At that moment, the sheriff walks in.  The sheriff and the assayer head into the back office.  Just as they disappear, you notice something slip from the sheriff's grasp."
  },
  {
    "Id": "OnExamineBag"
  },
  {
    "Id": "OnWithdrawMoney",
    "Action": {
        "UntriggerEvent": "OnDepositMoney"
    },
    "Text": "The teller says this is that last of your cash."
  },
  {
    "Id": "OnDepositMoney",
    "Action": {
        "UntriggerEvent": "OnWithdrawMoney"
    },
    "Text": "The teller says your money is safe in the bank."
  },
  {
    "Id": "OnPayTheLady",
    "Action": {
      "MoveObject": [
        { "lady": "invalid" },
        { "player": "hotelroom2" }
      ],
      "MakeInvisible": "money"
    },
    "Text": "Time passes...  The lady leaves you.  While relaxing you notice something under the cabinet.",
    "TriggersEvent": "OnCabinetKeyVisible"
  },
  {
    "Id": "OnCabinetKeyVisible"
  },
  {
    "Id": "OnExamineCabinet",
    "Action": {
      "MoveObject": { "key": "hotelroom2" }
    }
  },
  {
    "Id": "OnBlackSmithStartAttack"
  },
  {
    "Id": "OnBlackSmithAttack",
    "Repeats": 4,
    "TriggersEvent": "OnGoToJail"
  },
  {
    "Id": "OnGoToJail",
    "Action": {
      "MoveObject": { "player": "jailcell2" }
    },
    "Text": "The sheriff steps between you and the smithy to break up the fight, and roughly escorts you to jail."
  },
  {
    "Id": "OnOutOfJail",
    "Action": {
      "MoveObject": { "assayer": "assayoffice" }
    }
  },
  {
    "Id": "OnGoToJail2",
    "Text": "The sheriff looks surprised to see you.  He quickly gathers himself, jumps from his chair, and tackles you.",
    "Action": [
      {
        "MoveObject": [
          { "player": "jailcell2" },
          { "key": "invalid" }
        ]
      },
      { "UntriggerEvent": [ "OnGoToJail2", "OnGoToJail" ] }
    ]
  },
  {
    "Id": "OnGoToJail3",
    "Action": [
      {
        "MoveObject": [
          { "player": "jailcell2" },
          { "key": "invalid" }
        ]
      },
      { "UntriggerEvent": [ "OnGoToJail3", "OnGoToJail" ] }
    ]
  },
  {
    "Id": "OnStuckJailCount",
    "Repeats": 10,
    "TriggersEvent": "OnGameReset"
  },
  {
    "Id": "OnHavePosseIncrement",
    "Repeats": 3,
    "TriggersEvent": "OnHavePosseComplete"
  },
  {
    "Id": "OnHavePosseComplete"
  },
  {
    "Id": "OnGameOver",
    "Text": "You and the posse have extracted Old West justice on the corrupt sheriff.  The barkeep invites everyone back to the saloon for drinks.  Someone asks, \"who will be the new sheriff?\"  Almost in unison, the crowd points and yells your name.  Congratulations, there's a new sheriff in town, and it's you.",
    "Action": { "EndGame": true }
  },
  {
    "Id": "OnGameReset",
    "Text": "You never thought it would end this way.  Stuck in a dirty jail cell.  The last thing your tired eyes see is the cracked, peeled paint of the cell ceiling.  \r\n**** You have died ****",
    "Action": { "EndGame": true }
  }
]
